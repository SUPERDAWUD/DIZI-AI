<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Developer Panel</title>
    <link rel="stylesheet" href="/static/style.css">
    <style>
        body { background: #181a1b; color: #eee; font-family: Arial, sans-serif; }
        .container { max-width: 800px; margin: 40px auto; background: #222; padding: 32px; border-radius: 12px; box-shadow: 0 2px 16px #0006; }
        h1 { color: #7fd957; }
        .section { margin-bottom: 32px; }
        label { display: block; margin-bottom: 8px; font-weight: bold; }
        input, textarea, select { width: 100%; padding: 8px; margin-bottom: 16px; border-radius: 6px; border: 1px solid #444; background: #181a1b; color: #eee; }
        button { background: #7fd957; color: #222; border: none; padding: 10px 24px; border-radius: 6px; cursor: pointer; font-weight: bold; }
        button:hover { background: #6fc947; }
    </style>
</head>
<body>
    <div class="container">
        <h1>Developer Panel</h1>
        <div class="section">
            <h2>Welcome to the Developer Panel!</h2>
            <p>If you see this page, you are logged in as a developer. All dev tools are available below.</p>
        </div>
    <div class="section">
      <h2>Gemini Model Info</h2>
      <form action="/dev/gemini_models" method="get">
        <button type="submit">List Gemini Models</button>
      </form>
    </div>
    <div class="section">
      <h2>Inference Device</h2>
      <label for="device-select">Choose device:</label>
      <select id="device-select" onchange="switchDevice()">
        <option value="auto">Auto</option>
        <option value="cuda">GPU (CUDA)</option>
        <option value="cpu">CPU</option>
      </select>
      <span id="device-status" style="margin-left:1em;color:#7fd957;"></span>
    </div>
  <script>
  function switchDevice() {
    const device = document.getElementById('device-select').value;
    fetch('/api/set-device', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({ device })
    })
    .then(res => res.json())
    .then(data => {
      document.getElementById('device-status').textContent = 'Now using: ' + data.device;
    });
  }
  </script>
        <div class="section">
            <h2>Run Code</h2>
            <form action="/dev/exec" method="post">
                <label for="code">Code:</label>
                <textarea name="code" id="code" rows="6"></textarea>
                <label for="language">Language:</label>
                <select name="language" id="language">
                    <option value="python">Python</option>
                    <option value="javascript">JavaScript</option>
                    <option value="bash">Bash</option>
                    <option value="java">Java</option>
                    <option value="c++">C++</option>
                </select>
                <button type="submit">Run</button>
            </form>
        </div>
        <div class="section">
            <h2>Self-Modify Code</h2>
            <form action="/dev/self-modify" method="post">
                <label for="new_code">New Code:</label>
                <textarea name="new_code" id="new_code" rows="6"></textarea>
                <label for="target_file">Target File:</label>
                <input type="text" name="target_file" id="target_file" placeholder="e.g. chat.py">
                <button type="submit">Modify</button>
            </form>
        </div>
        <div class="section">
            <h2>User Personality (Pie Chart)</h2>
            <canvas id="personalityChart" width="400" height="400"></canvas>
        </div>
        <div class="section">
            <h2>Questions Asked by Users</h2>
            <table style="width:100%;background:#222;color:#eee;border-radius:8px;">
                <thead>
                    <tr style="background:#333;color:#7fd957;"><th>User</th><th>Question</th></tr>
                </thead>
                <tbody id="questionsTableBody"></tbody>
            </table>
        </div>
        <div class="section">
            <a href="/dev/code_assistant"><button style="background:#222;color:#7fd957;padding:0.7em 1.5em;border-radius:8px;font-size:1.1em;">Coding Assistant</button></a>
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script>
// --- Personality Pie Chart ---
const userData = {
  Dawud: {
    personality: {
      formality: "low",
      humor: "high",
      directness: "low",
      preferred_tone: "humorous",
      emoji_usage: "high",
      greeting_style: "high"
    }
  }
};
const traitLabels = Object.keys(userData.Dawud.personality);
const traitValues = traitLabels.map(l => {
  const v = userData.Dawud.personality[l];
  if (v === "high") return 3;
  if (v === "humorous") return 2;
  if (v === "low") return 1;
  return 2;
});
const traitColors = ["#7fd957", "#ff6b6b", "#6fc947", "#f7c948", "#57d9c7", "#d957a3"];
new Chart(document.getElementById('personalityChart'), {
  type: 'pie',
  data: {
    labels: traitLabels,
    datasets: [{
      data: traitValues,
      backgroundColor: traitColors
    }]
  },
  options: {
    plugins: { legend: { labels: { color: '#eee' } } }
  }
});
// --- Questions Table ---
const userQuestions = {
  Dawud: [
    "hello", "quit", "write me a speech about lions", "hello", "quit", "hello", "who is elon musk", "can you generate code in python to print hello world", "Thanks", "hello", "whats 2+3", "no whats 2+3", "generate me a picture of a jungle", "whats 1+1", "1+1", "1+1", "1+1", "7+8", "8*9", "whats 2*2", "2+2", "generate me an image of a zoo", "create image of a zoo", "write me a python program that allows me to make a list", "can you write me the code", "write me code that prints hello to the console in Java script", "hello", "who is donald trump", "777097908*9999999", "890809/3", "cos(7)", "bye", "quit", "Bye", "See you later", "hello", "hi", "Hello", "hello", "Hello", "yo", "Yo", "quiy", "Yo", "hello", "can you tell me about trumps deployment of troops in LA", "what about marines", "tell me how many marines he deployed in LA", "how many marines deployed in la", "elon musk", "Hi", " many marines did trump deploy in la", "marines", "what are marines", "marines", "hfaoshuohfds", "sfaaaaasfaaaaaaaa", "quit", "who is elon musk", "elon musk", "Who is donald j trump", "who is elon musk", "in javascript how do i print to the console", "ok whats the weather in virgina right now", "what time is it", "what time is it in VA", "time in VA", "who made you", "who created you", "Who created you", "whats your name", "ok cool", "YO", "what time is magrib", "whats the weather in springfield va", "weather in va", "BYE", "whats the time", "What time is it", "Make a speech about black holes", "jfiolshdfosd", "whats 2+2"
  ],
  Zayd: ["whats 1+1", "whos elon musk", "write me a speech about lions"]
};
const tbody = document.getElementById('questionsTableBody');
Object.entries(userQuestions).forEach(([user, questions]) => {
  questions.forEach(q => {
    const tr = document.createElement('tr');
    tr.innerHTML = `<td>${user}</td><td>${q}</td>`;
    tbody.appendChild(tr);
  });
});
    </script>
</body>
</html>
